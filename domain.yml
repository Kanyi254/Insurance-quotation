version: "3.1"
intents:
  - greet
  - upload_proposal_form
  - upload_financial_statement
  - upload_rating_guide
  - validate_proposal_form
  - validate_audited_accounts
  - validate_rating_guide
  - extract_text
  - goodbye

entities:
  - image
  - proposal_form
  - financial_statement
  - rating_guide

slots:
  proposal_form_slot:
    type: text
    influence_conversation: false
  financial_statements_slot:
    type: text
    influence_conversation: false
  rating_guide_slot:
    type: text
    influence_conversation: false
  image_slot:
    type: text
    influence_conversation: false

responses:
  utter_greet:
    - text: "Hello! How can I help you today?"

  utter_goodbye:
    - text: "Goodbye! Let me know if you need any further assistance."

  utter_ask_proposal_form_upload:
    - text: "Please upload the proposal form."

  utter_ask_financial_statement_upload:
    - text: "Please upload the audited financial statement."

  utter_ask_rating_guide_upload:
    - text: "Please upload the rating guide."

  utter_missing_proposal_form:
    - text: "The proposal form is missing or incorrectly formatted. Please upload a valid PDF file."

  utter_missing_financial_statement:
    - text: "The audited accounts document is missing or incorrectly formatted. Please upload a valid PDF file."

  utter_missing_rating_guide:
    - text: "The rating guide document is missing or incorrectly formatted. Please upload a valid PDF file."

actions:
  - action_validate_proposal_form
  - action_validate_audited_accounts
  - action_validate_rating_guide
  - action_extract_text
  - action_upload_proposal_form
  - action_upload_financial_statement
  - action_upload_rating_guide

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
